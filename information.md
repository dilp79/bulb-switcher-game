# Детали реализации игры "Угадай переключатели лампочек"

## Основные компоненты

### Структура игры
- Игра реализована на основе фреймворка Phaser.js
- Состоит из нескольких сцен (MainMenuScene, GameScene, LevelSelectScene, HelpScene, LevelEditorScene)
- Использует LocalStorage для сохранения прогресса игры

### Уровни игры
- Разделены на 3 блока по сложности (по 10 уровней в каждом)
- Хранятся в формате JSON в папке levels
- Каждый уровень содержит:
  - Название уровня
  - Количество кнопок
  - Количество лампочек
  - Количество цветов
  - Массив связей между кнопками и лампочками
  - Целевые и начальные состояния
  - Сложность
  - Номер блока

### Интерфейс GameScene
- Верхняя панель содержит:
  - Кнопки "Уровни" и "Меню" слева
  - Название уровня по центру
  - Счётчик ходов и таймер под названием
  - Информация о рекорде рядом со счётчиком ходов
  - Кнопки "Подсказка" и "Рестарт" справа
- Средняя панель содержит лампочки различных цветов
- Нижняя панель содержит игровые кнопки

### Игровая механика
- Нажатие на кнопку меняет состояние связанных лампочек
- Цель - привести все лампочки в выключенное состояние
- Доступна одна подсказка на уровень
- Ведётся подсчёт ходов и времени прохождения
- При успешном прохождении:
  - Показывается анимация конфетти (одна в центре экрана)
  - Отображается информация о результате
  - Предлагается перейти к следующему уровню
  - Происходит автоматический переход через 3 секунды

## Специфические детали

### Анимация конфетти
- При победе отображается один спрайт конфетти в центре экрана
- Анимация воспроизводится один раз 
- Используется оригинальный размер спрайта
- После завершения анимации спрайт автоматически удаляется

### Рекорды
- При прохождении уровня сохраняется время и количество ходов
- В интерфейсе отображается лучшее время прохождения
- Если текущий результат лучше предыдущего, показывается специальное сообщение

### Подсказки
- Можно использовать один раз на уровень
- При активации просит выбрать кнопку
- После выбора показывает связи этой кнопки с лампочками красными линиями
- Связи отображаются 3 секунды, после чего исчезают 